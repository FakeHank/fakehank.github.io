<!DOCTYPE html>
<html>
  	<head>
  		<title>Hank</title>
  		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
  		<meta name="description" content="" />
  		<meta name="keywords" content="" />

      <!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
      <script src="/js/jquery.min.js"></script>
      <script src="/js/jquery.poptrox.min.js"></script>
      <script src="/js/skel.min.js"></script>
      <script src="/js/init.js"></script>
  		<noscript>
        <link rel="stylesheet" href="/css/style.css" />
  			<link rel="stylesheet" href="/css/skel.css" />
  			<link rel="stylesheet" href="/css/style-xlarge.css" />
  		</noscript>
  		<!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
  	</head>

	<body id="top">

      <header id="header">
          <a href="#" class="image avatar"><img src="/images/Hank.jpg" alt="" /></a>
          <h1><strong><a href="/">Hank 袁榛池</a></strong>,<br /> Restraint, Focus. 
          <br/> 守心，克己<br/></h1>
      </header>

      <div id="main">
    <article>
        <header class="major">
            <h2 class="post-title">HashMap Study Conclusion</h2>
                <p class="post-meta">Jan 3, 2016</p>
        </header>

        <section>
            <p>##1. Description</p>

<ul>
  <li>Hash Table, store key-value.</li>
  <li>Inherited from AbstractMap, implements interface Map, Cloneable, and java.io.Serializable.</li>
  <li>Implementation is not synchronized, which means that it is not thread-safe.</li>
</ul>

<p>##2. Two parameters</p>
<ul>
  <li><strong>Initial Capacity</strong></li>
  <li><strong>Load Factor</strong>
    <blockquote>
      <p><em>“a measure of how full the hash table is allowed to get before its capacity is automatically increased”</em>   <a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html" title="FROM">1</a></p>

    </blockquote>
  </li>
</ul>

<p>thredshold = capacity * loadFactor;</p>

<p>if volume &gt; thredshold,</p>

<p>then, rehash() <em>//rebuild inside data structure</em></p>

<p>##3. How it works</p>

<p><img src="http://images.cnitblog.com/blog/497634/201401/280024326252470.jpg" alt="pic1" /></p>

<p><strong>All the key-values of HashMap are stored in Entry Array.</strong></p>

<p>##4. Main interfaces of HashMap
###4.1 clear()</p>

<p>Clear HashMap, by setting all elements null.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public void clear() {
	modCount++;
	Entry[] tab = table;
	for (int i = 0; i &lt; tab.length; i++)
    	tab[i] = null;
    	size = 0;
	}
</code></pre>
</div>

<p>###4.2 containsKey()</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public boolean containsKey(Object key) {
	return getEntry(key) != null;
}
</code></pre>
</div>

<p>###4.3 containsValue()</p>

<p>two steps</p>

<ul>
  <li>value == null, return containsNullValue();</li>
  <li>value != null, check if there is node in Entry[] whose value is value.</li>
</ul>

<p>code:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public boolean containsValue(Object value) {
	if (value == null)
    return containsNullValue();
	Entry[] tab = table;
	for (int i = 0; i &lt; tab.length ; i++)
    	for (Entry e = tab[i] ; e != null ; e = e.next)
        if (value.equals(e.value))	return true;
		return false;
	}
</code></pre>
</div>

<p>###4.4 get()</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public V get(Object key) {
	if (key == null)
    	return getForNullKey();
	
	// get key's hash value
	int hash = hash(key.hashCode());
	// find
	for (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];
     e != null;
     e = e.next) {
    	Object k;
    	if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k)))
        	return e.value;
	}
	return null;
}
</code></pre>
</div>

<p>###4.5 put()</p>

<p>##5. Iterate HashMap</p>
<ol>
  <li>
    <p>keyset</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> // assume that map is a HashMap object
 String key = null;
 Integer integ = null;
 Iterator iter = map.keySet().iterator();
 while (iter.hasNext()) {
 	// get key
 		key = (String)iter.next();
 	// get value according to key
 		integ = (Integer)map.get(key);
 }
</code></pre>
    </div>
  </li>
  <li>
    <p>values</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> // assume that map is a HashMap object
 Integer value = null;
 Collection c = map.values();
 Iterator iter= c.iterator();
 while (iter.hasNext()) {
 		value = (Integer)iter.next();
 }
</code></pre>
    </div>
  </li>
  <li>
    <p>key-value</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> // assume that map is a HashMap object
 Integer integ = null;
 Iterator iter = map.entrySet().iterator();
 while(iter.hasNext()) {
 		Map.Entry entry = (Map.Entry)iter.next();
 		// get key
 		key = (String)entry.getKey();
 	// get value
 integ = (Integer)entry.getValue();
 }
</code></pre>
    </div>
  </li>
</ol>


        </section>
        
        <!-- <footer>
            <div class="row">
            
            
                <article class="6u 12u(small) excerpt">
                    <header>
                        <h2><a href="/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99_%E8%AE%B2%E6%95%85%E4%BA%8B/2015/12/29/%E9%AD%94%E5%85%BD%E4%B8%96%E7%95%8C%E5%AE%88%E6%8A%A4%E5%B7%A8%E9%BE%99%E4%BB%AC%E7%9A%84%E6%95%85%E4%BA%8B1.html">【读书】魔兽世界，守护巨龙们的故事(1)</a></h2>
                    </header>
                    <section>
                        <p>死亡之翼在被击败之后，守护巨龙们失去了当初被泰坦们任命为艾泽拉斯守护者时授予的力量，他们也逐步隐退。但巨龙们失去的大概不仅仅是力量，还有曾经对守护艾泽拉斯的那份执着和坚定。</p>


                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99_%E8%AE%B2%E6%95%85%E4%BA%8B/2015/12/29/%E9%AD%94%E5%85%BD%E4%B8%96%E7%95%8C%E5%AE%88%E6%8A%A4%E5%B7%A8%E9%BE%99%E4%BB%AC%E7%9A%84%E6%95%85%E4%BA%8B1.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            
            
            
            
                <article class="6u$ 12u(small) excerpt f-right">
                    <header>
                        <h2><a href="/programmer_java/2016/01/20/http_request.html">HTTP Request Study Conclusion</a></h2>
                    </header>
                    <section>
                        <p>###HTTP request headers</p>


                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/programmer_java/2016/01/20/http_request.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            
            </div>
        </footer> -->

    </article>

</div>

        <!-- Footer -->
        <footer id="footer">
            <ul class="icons">

              
              <li>
                <a href="https://github.com/FakeHank" class="icon fa-github">
                  <span class="label">GitHub</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://twitter.com/example" class="icon fa-twitter">
                  <span class="label">Twitter</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://linkedin.com/in/example" class="icon fa-linkedin">
                  <span class="label">LinkedIn</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://plus.google.com/neiyohank" class="icon fa-google-plus">
                  <span class="label">Google+</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://www.facebook.com/example" class="icon fa-facebook">
                  <span class="label">Facebook</span>
                </a>
              </li>
              

              
              <li>
                <a href="mailto:zhenchi.yuan@yahoo.com" class="icon fa-envelope-o">
                  <span class="label">Email</span>
                </a>
              </li>
              
            </ul>
            <ul class="copyright">
                <li>&copy; Hank</li>
                <li>Jekyll Template: <a href="http://html5up.net">HTML5 UP</a></li>
            </ul>
        </footer>

	</body>
</html>
