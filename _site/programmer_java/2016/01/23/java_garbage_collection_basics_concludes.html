<!DOCTYPE html>
<html>
  	<head>
  		<title>Hank</title>
  		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
  		<meta name="description" content="" />
  		<meta name="keywords" content="" />

      <!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
      <script src="/js/jquery.min.js"></script>
      <script src="/js/jquery.poptrox.min.js"></script>
      <script src="/js/skel.min.js"></script>
      <script src="/js/init.js"></script>
  		<noscript>
        <link rel="stylesheet" href="/css/style.css" />
  			<link rel="stylesheet" href="/css/skel.css" />
  			<link rel="stylesheet" href="/css/style-xlarge.css" />
  		</noscript>
  		<!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
  	</head>

	<body id="top">

      <header id="header">
          <a href="#" class="image avatar"><img src="/images/Hank.jpg" alt="" /></a>
          <h1><strong><a href="/">Hank 袁榛池</a></strong>,<br /> Restraint, Focus. 
          <br/> 守心，克己<br/></h1>
      </header>

      <div id="main">
    <article>
        <header class="major">
            <h2 class="post-title">Java GC Basics Conclusion</h2>
                <p class="post-meta">Jan 23, 2016</p>
        </header>

        <section>
            <p>###JVM Generations</p>

<p><img src="http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/images/gcslides/Slide5.png" alt="Hotspot Heap Structure" /></p>

<ul>
  <li><strong>Young Generation</strong>: where all new objects are allocated and aged. When the young generation fills up, this causes a minor garbage collection.</li>
</ul>

<p><em>Minor collections can be optimized assuming a high object mortality rate. A young generation full of dead objects is collected very quickly. Some surviving objects are aged and eventually move to the old generation.</em></p>

<ul>
  <li><strong>Old Generation</strong>: is used to store long surviving objects.</li>
</ul>

<p><em>Typically, a threshold is set for young generation object and when that age is met, the object gets moved to the old generation. Eventually the old generation needs to be collected. This event is called a major garbage collection. <strong>Often a major collection is much slower because it involves all live objects.</strong></em></p>

<ul>
  <li><strong>Permanent Generation</strong>: contains metadata required by the JVM to describe the classes and methods used in the application.</li>
</ul>

<p>###The Generational GC Process</p>

<ul>
  <li>First, any new objects are allocated to the eden space.</li>
</ul>

<p><img src="http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/images/gcslides/Slide13.png" alt="ObjectAllocation" /></p>

<ul>
  <li>When the eden space fills up, a minor garbage collection is triggered.</li>
</ul>

<p><img src="http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/images/gcslides/Slide14.png" alt="FillingTheEdenSpace" /></p>

<ul>
  <li>
    <p>Referenced objects are moved to the first survivor space. Unreferenced objects are deleted when the eden space is cleared.</p>
  </li>
  <li>At the next minor GC, the same thing happens for the eden space. Unreferenced objects are deleted and referenced objects are moved to a survivor space. However, in this case, they are moved to the second survivor space (S1). In addition, objects from the last minor GC on the first survivor space (S0) have their age incremented and get moved to S1. Once all surviving objects have been moved to S1, both S0 and eden are cleared. Notice we now have differently aged object in the survivor space.</li>
  <li>At the next minor GC, the same process repeats. However this time the survivor spaces switch. Referenced objects are moved to S0. Surviving objects are aged. Eden and S1 are cleared.</li>
  <li>This slide demonstrates promotion. After a minor GC, when aged objects reach a certain age threshold (8 in this example) they are promoted from young generation to old generation.</li>
  <li>As minor GCs continue to occure objects will continue to be promoted to the old generation space</li>
</ul>


        </section>
        
        <!-- <footer>
            <div class="row">
            
            
                <article class="6u 12u(small) excerpt">
                    <header>
                        <h2><a href="/programmer_java/2016/01/20/http_request.html">HTTP Request Study Conclusion</a></h2>
                    </header>
                    <section>
                        <p>###HTTP request headers</p>


                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/programmer_java/2016/01/20/http_request.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            
            
            
            
                <article class="6u$ 12u(small) excerpt f-right">
                    <header>
                        <h2><a href="/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99_%E5%BF%B5%E6%83%B3/2016/08/01/%E6%97%A0%E9%A2%98.html">无题</a></h2>
                    </header>
                    <section>
                        <p>#2016.8.1</p>

<p>今天重开了一个leetcode的session，想在八月把leetcode认真过第1.5遍，为什么说是1.5呢，因为第一遍并没有刷完。近一年的时间，停停走走地刷着leetcode，弄成了一个支离破碎的烂摊子，然后就不再想去收拾了。我好像总是这样，喜欢规划又总是半途而废，然后就是重新开始，以为下一把会完美地走到最后。再这样大概就真的废了吧。</p>

<p>还是不要讲丧气话了。</p>

<p>说说前两天，波士顿前几周简直是热到爆炸，期间却忽然遇到了一个阳光明媚却又不算热到要开空调的午后。我还是老样子，躺在床上听歌刷leetcode，偶然间把耳机摘了，床尾的窗外传来风吹过树枝的声音，斑驳阳光也随着沙沙响声晃动起来。一下子让我想起了小的时候，也是这样的午后，接近傍晚的样子，爸爸去剪头发，带着不安分的我。进理发店之前，老爸带着我去了理发店旁边的小书屋，我开开心心地挑了一本七龙珠，现在还记得好像是悟空刚刚遇到布玛，还有布玛骑的那台后现代摩托车。直到我看完一遍，爸爸还没有剪完，于是我嘟嘴抱怨了两句，又重新从头看起。</p>

<p>父亲已经离开十余年了，而当时蝉鸣的午后，理发师还有父亲抿嘴而笑看向认真读漫画的我,这画面却晃晃悠悠地反复出现在我脑海。</p>

                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99_%E5%BF%B5%E6%83%B3/2016/08/01/%E6%97%A0%E9%A2%98.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            
            </div>
        </footer> -->

    </article>

</div>

        <!-- Footer -->
        <footer id="footer">
            <ul class="icons">

              
              <li>
                <a href="https://github.com/FakeHank" class="icon fa-github">
                  <span class="label">GitHub</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://twitter.com/example" class="icon fa-twitter">
                  <span class="label">Twitter</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://linkedin.com/in/example" class="icon fa-linkedin">
                  <span class="label">LinkedIn</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://plus.google.com/neiyohank" class="icon fa-google-plus">
                  <span class="label">Google+</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://www.facebook.com/example" class="icon fa-facebook">
                  <span class="label">Facebook</span>
                </a>
              </li>
              

              
              <li>
                <a href="mailto:zhenchi.yuan@yahoo.com" class="icon fa-envelope-o">
                  <span class="label">Email</span>
                </a>
              </li>
              
            </ul>
            <ul class="copyright">
                <li>&copy; Hank</li>
                <li>Jekyll Template: <a href="http://html5up.net">HTML5 UP</a></li>
            </ul>
        </footer>

	</body>
</html>
