<!DOCTYPE html>
<html>
    <head>
      <title>Hank</title>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
      <link rel="stylesheet" href="/assets/css/main.css" />
      <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
      <noscript><link rel="stylesheet" href="/assets/css/noscript.css" /></noscript>
      <!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
    </head>

    <body class="is-article-visible">
      <div id="wrapper">

  <!-- Header -->

          <header id="header" style="display: none;">
            <div class="logo">
              <span class="icon fa-diamond"></span>
            </div>
            <div class="content">
              <div class="inner">
                <h1>Dimension</h1>
                <p>A fully responsive site template designed by <a href="https://html5up.net">HTML5 UP</a> and released<br>
                for free under the <a href="https://html5up.net/license">Creative Commons</a> license.</p>
              </div>
            </div>
            <nav class="use-middle">
              <ul>
                <li><a href="#intro">Intro</a></li>
                <li><a href="#work">Work</a></li>
                <li class="is-middle"><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
                <!--<li><a href="#elements">Elements</a></li>-->
              </ul>
            </nav>
          </header>

  <!-- Main -->
    <div id="main" style="display: flex;">


      <!-- Intro -->
        <article id="intro" style="display: block;" class="active">
          <h2 class="major">HTTP Request Study Conclusion</h2>
          <p>Jan 20, 2016</p>
          <section><p>###HTTP request headers</p>

<ul>
  <li>FORM DATA: results directly from user input and is sent as part of the URL for <strong>GET</strong> requests and on a separate line for <strong>POST</strong> requests.</li>
  <li>REQUEST HEADERS: indirectly set by the browser and are sent immediately following the initial <strong>GET</strong> or <strong>POST</strong> request line.</li>
</ul>

<p><em>the servlet needs to explicitly read the request headers to make use of this information:</em> Accept, Accept-Encoding, Connection, Cookie, Host, Referer and User-Agent.</p>

<p>Understanding HTTP 1.1 Request Headers:</p>

<ul>
  <li>Accept: This header specifies the MIME types that the browser or other clients can handle.</li>
  <li>Accept-Charset</li>
  <li>Accept-Encoding</li>
  <li>Accept-Language</li>
  <li>Authorization: This header is used by clients to identify themselves when accessing password-protected Web pages.</li>
  <li>Connection: This header indicates whether the client can handle persistent HTTP connec- tions.</li>
  <li>Content-Length: This header is applicable only to POST requests and gives the size of the POST data in bytes.</li>
  <li>Cookie</li>
  <li>Host</li>
  <li>If-Modified-Since: This header indicates that the client wants the page only if it has been changed after the specified date.</li>
  <li>If-Unmodified-Since: This header is the reverse of If-Modified-Since; it specifies that the opera- tion should succeed only if the document is older than the specified date.</li>
  <li>Referer</li>
  <li>User-Agent: This header identifies the browser or other client making the request and can be used to return different content to different types of browsers.</li>
</ul>

<p>###Sending compressed web pages.</p>

<p>###Changing the page according to how the user got there</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/** Servlet that displays referer-specific image. */
public class CustomizeImage extends HttpServlet 	{ 
	public void doGet(HttpServletRequest request,
	HttpServletResponse response) 
		throws ServletException, IOException {
		
		response.setContentType("text/html"); 
		PrintWriter out = response.getWriter();
		String referer = request.getHeader("Referer");
		if (referer == null) {
      		referer = "&lt;I&gt;none&lt;/I&gt;";
    	}
		String title = "Referring page: " + referer; 			String imageName;
		if (contains(referer, "JRun")) {
      		imageName = "jrun-powered.gif";
		} else if (contains(referer, "Resin")) { 
			imageName = "resin-powered.gif";
		} else {
			imageName = "tomcat-powered.gif";
		}
		String imagePath = "../request-headers/images/" + imageName;
		String docType ="&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 " + "Transitional//EN\"&gt;\n";
		out.println(docType +
			"&lt;HTML&gt;\n" +
			"&lt;HEAD&gt;&lt;TITLE&gt;" + title + "&lt;/TITLE&gt;&lt;/HEAD&gt;\n" + 
			"&lt;BODY BGCOLOR=\"#FDF5E6\"&gt;\n" +
			"&lt;CENTER&gt;&lt;H2&gt;" + title + "&lt;/H2&gt;\n" +
			"&lt;IMG SRC=\"" + imagePath + "\"&gt;\n" + "&lt;/CENTER&gt;&lt;/BODY&gt;&lt;/HTML&gt;");
	}


	private boolean contains(String mainString, String subString) {
			return(mainString.indexOf(subString) != -1); 
	}
}
</code></pre>
</div>

<p>One certain html page:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"&gt;</span> <span class="nt">&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;</span>Referer Test<span class="nt">&lt;/TITLE&gt;&lt;/HEAD&gt;</span>
<span class="nt">&lt;BODY</span> <span class="na">BGCOLOR=</span><span class="s">"#FDF5E6"</span><span class="nt">&gt;</span>
<span class="nt">&lt;H1</span> <span class="na">ALIGN=</span><span class="s">"CENTER"</span><span class="nt">&gt;</span>Referer Test<span class="nt">&lt;/H1&gt;</span>
Click <span class="nt">&lt;A</span> <span class="na">HREF=</span><span class="s">"/servlet/coreservlets.CustomizeImage"</span><span class="nt">&gt;</span>here<span class="nt">&lt;/A&gt;</span> to visit the servlet.
<span class="nt">&lt;/BODY&gt;&lt;/HTML&gt;</span>
</code></pre>
</div>
</section>
        <div class="close" onclick="window.history.back(-1)">Close</div></article>
    <!-- Wrapper -->
      

          <!-- Footer -->
          <footer id="footer">
            <p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
          </footer>

    </div>

    <!-- BG -->
    <div id="bg"></div>

    <!-- Scripts -->
      <!-- <script src="/assets/js/jquery.min.js"></script>
      <script src="/assets/js/skel.min.js"></script>
      <script src="/assets/js/util.js"></script> -->
      <!-- <script src="/assets/js/main.js"></script> -->

  </body>
</html>
